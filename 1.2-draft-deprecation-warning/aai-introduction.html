<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>AAI Introduction | GA4GH Data Security</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="AAI Introduction">
<meta property="og:locale" content="en_US">
<meta name="description" content="AAI">
<meta property="og:description" content="AAI">
<link rel="canonical" href="/data-security/1.2-draft-deprecation-warning/aai-introduction">
<meta property="og:url" content="/data-security/1.2-draft-deprecation-warning/aai-introduction">
<meta property="og:site_name" content="GA4GH Data Security">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="AAI Introduction">
<script type="application/ld+json">
{"description":"AAI","url":"/data-security/1.2-draft-deprecation-warning/aai-introduction","@type":"WebPage","headline":"AAI Introduction","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/data-security/1.2-draft-deprecation-warning/assets/main.css">
<link type="application/atom+xml" rel="alternate" href="/data-security/1.2-draft-deprecation-warning/feed.xml" title="GA4GH Data Security">
</head>
<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/data-security/1.2-draft-deprecation-warning/">GA4GH Data Security</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
<a class="page-link" href="/data-security/1.2-draft-deprecation-warning/aai-introduction">AAI Introduction</a><a class="page-link" href="/data-security/1.2-draft-deprecation-warning/aai-openid-connect-profile">AAI OIDC Profile</a><a class="page-link" href="/data-security/1.2-draft-deprecation-warning/aai-faq">AAI FAQ</a><a class="page-link" href="/data-security/1.2-draft-deprecation-warning/changes-1_2">Changes Between Versions 1.0 and 1.2</a>
</div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">AAI Introduction</h1>
  </header>

  <div class="post-content">
    <h3 class="no_toc" id="quick-links">Quick Links</h3>

<ul>
  <li>Specification: <a href="/data-security/1.2-draft-deprecation-warning/aai-openid-connect-profile">GA4GH Authentication and Authorization Infrastructure (AAI) OpenID Connect Profile</a>
</li>
  <li>Other specifications that use the AAI profile: <a href="https://bit.ly/ga4gh-passport-v1">GA4GH Passport</a>
</li>
</ul>

<h3 class="no_toc" id="table-of-contents">Table of Contents</h3>

<ul id="markdown-toc">
  <li>
<a href="#introduction" id="markdown-toc-introduction">Introduction</a>    <ul>
      <li><a href="#technical-summary" id="markdown-toc-technical-summary">Technical Summary</a></li>
      <li><a href="#visa-tokens" id="markdown-toc-visa-tokens">Visa Tokens</a></li>
      <li><a href="#separation-of-data-holders-and-data-controllers" id="markdown-toc-separation-of-data-holders-and-data-controllers">Separation of Data Holders and Data Controllers</a></li>
    </ul>
  </li>
  <li>
<a href="#background" id="markdown-toc-background">Background</a>    <ul>
      <li><a href="#why-brokers" id="markdown-toc-why-brokers">Why Brokers?</a></li>
    </ul>
  </li>
</ul>

<h3 id="introduction">Introduction</h3>

<p>The <a href="/data-security/1.2-draft-deprecation-warning/aai-openid-connect-profile">GA4GH AAI profile specification</a>
leverages OpenID Connect (OIDC) to authenticate researchers
desiring to access clinical and genomic resources from <a href="/data-security/1.2-draft-deprecation-warning/aai-openid-connect-profile#term-data-holder">data
holders</a>
adhering to GA4GH standards. Beyond standard OIDC authentication, AAI enables
data holders to obtain security-related attributes and authorizations of those
researchers.</p>

<p>The Data Use and Researcher Identity (DURI) Work Stream has developed standard
<a href="https://github.com/ga4gh-duri/ga4gh-duri.github.io/tree/master/researcher_ids">claims</a>
for representing common researcher authorizations and attributes. This standard
assumes that GA4GH Claims provided by Brokers described in this document
MAY conform to the DURI researcher-identity policy and standard. This standard
does NOT assume that DURI’s GA4GH Claims will be the only ones used.</p>

<h4 id="technical-summary">Technical Summary</h4>

<p>At its core, the AAI specification defines cryptographically secure tokens for exchanging
researcher attributes called <a href="aai-openid-connect-profile#term-visa">Visas</a>, and how various
participants can interact to authenticate researchers, and obtain and validate visas.</p>

<p>The main components identified in the specification are:</p>
<ul>
  <li>
<a href="aai-openid-connect-profile#term-visa-issuer">Visa Issuers</a>, that cryptographically sign researcher attributes in the
form of visas.</li>
  <li>
<a href="aai-openid-connect-profile#term-broker">Brokers</a>, that authenticate researchers and broker access to visas associated
with researchers.</li>
  <li>
<a href="aai-openid-connect-profile#term-passport-clearinghouse">Passport Clearinghouses</a>, that accept tokens containing or
otherwise availing researcher visas for the purposes of enforcing access control.</li>
</ul>

<h4 id="visa-tokens">Visa Tokens</h4>

<p>The recommended approach to using AAI involves signed-JWTs called Visas,
for securely transmitting authorizations or attributes of a researcher.
Visas are signed by the Visa Issuer, which may be a service other than
the Broker. Using JWTs signed by private key, allows Clearinghouses to
validate Visas from known issuers in situations where they may not have
network connections to the issuers.</p>

<h4 id="separation-of-data-holders-and-data-controllers">Separation of Data Holders and Data Controllers</h4>

<p>It is a fairly common situation that, for a single dataset, the
<a href="aai-openid-connect-profile#term-data-controller">data controller</a>
(the authority managing who has access to dataset) is not the same party as the 
<a href="aai-openid-connect-profile#term-data-holder">data holder</a> (the organization
that hosts the data, while respecting the data controller’s access policies).</p>

<p>For these situations, AAI is a standard mechanism for data holders to obtain
and validate authorizations from data controllers, by specifying the interactions
between Visa Issuers, Brokers, and Clearinghouses.</p>

<p>The AAI standard enables data holders’ and data controllers’ systems to recognize
and accept identities from multiple Brokers — allowing for an even more federated
approach. An organization can still use this specification with a single Broker and Visa Issuer,
though they may find in that case that there are few benefits beyond standard OIDC.</p>

<h3 id="background">Background</h3>

<h4 id="why-brokers">Why Brokers?</h4>

<p>We have found that there are widely used Identity Providers (IdP) such as Google
Authentication. These authentication mechanisms provide no authorization
information (custom claims or scopes) but are ubiquitous for authentication at the institution level.
The use of a Broker and Clearinghouse
enables attaching information to the usual OIDC flow so that Google and other
prominent identity providers can be used with customized claims and scopes.</p>

<p>Here is a diagram of a single broker. This is one possible way to use this spec.</p>

<p><img class="plantuml" src="http://www.plantuml.com/plantuml/svg/~h407374617274756d6c0a736b696e706172616d20636f6d706f6e656e745374796c652072656374616e676c650a6c65667420746f20726967687420646972656374696f6e0a0a636f6d706f6e656e7420223c623e566973612049737375657220313c2f623e5c6e736572766963652220617320497373756572310a636f6d706f6e656e7420223c623e566973612049737375657220323c2f623e5c6e736572766963652220617320497373756572320a636f6d706f6e656e7420223c623e5669736120497373756572204e3c2f623e5c6e7365727669636522206173204973737565724e0a0a636f6d706f6e656e7420223c623e42726f6b65723c2f623e5c6e73657276696365222061732042726f6b657220234641464144320a636f6d706f6e656e7420223c623e50617373706f727420436c656172696e67686f7573653c2f623e5c6e736572766963652220617320436c656172696e67486f75736520233945374242350a0a49737375657231202d2d3e2042726f6b6572203a2050726f766964652056697361730a49737375657232202d2d3e2042726f6b6572203a2050726f766964652056697361730a4973737565724e202d2d3e2042726f6b6572203a2050726f766964652056697361730a42726f6b6572202d2d3e20436c656172696e67486f757365203a2050726f766964652050617373706f727420616e642056697361730a0a40656e64756d6c"></p>

<p>In this diagram, the Broker relies on a separate service for fetching visas, which
stores assertions from multiple sources. The visa assertions are obtained by the
Clearinghouse after a successful login, and used to determine a researcher’s
access in the Clearinghouse system.</p>

<p>The Broker, Clearinghouse, and Visa Issuer may be separate services (as shown
in this diagram), but in other configurations they may be run as parts of a single
service, or as separate services run by single organization. Data holders and data
controllers should explore their options to decide what best fits their needs.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/data-security/1.2-draft-deprecation-warning/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">GA4GH Data Security</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">GA4GH Data Security</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>AAI</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
