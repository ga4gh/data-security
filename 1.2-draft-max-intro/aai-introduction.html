<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>AAI Introduction | GA4GH Data Security</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="AAI Introduction">
<meta property="og:locale" content="en_US">
<meta name="description" content="AAI">
<meta property="og:description" content="AAI">
<link rel="canonical" href="/data-security/1.2-draft-max-intro/aai-introduction">
<meta property="og:url" content="/data-security/1.2-draft-max-intro/aai-introduction">
<meta property="og:site_name" content="GA4GH Data Security">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="AAI Introduction">
<script type="application/ld+json">
{"description":"AAI","url":"/data-security/1.2-draft-max-intro/aai-introduction","@type":"WebPage","headline":"AAI Introduction","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/data-security/1.2-draft-max-intro/assets/main.css">
<link type="application/atom+xml" rel="alternate" href="/data-security/1.2-draft-max-intro/feed.xml" title="GA4GH Data Security">
</head>
<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/data-security/1.2-draft-max-intro/">GA4GH Data Security</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
<a class="page-link" href="/data-security/1.2-draft-max-intro/aai-introduction">AAI Introduction</a><a class="page-link" href="/data-security/1.2-draft-max-intro/aai-openid-connect-profile">AAI OIDC Profile</a><a class="page-link" href="/data-security/1.2-draft-max-intro/aai-faq">AAI FAQ</a><a class="page-link" href="/data-security/1.2-draft-max-intro/changes-1_2">Changes Between Versions 1.0 and 1.2</a>
</div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">AAI Introduction</h1>
  </header>

  <div class="post-content">
    <h3 class="no_toc" id="quick-links">Quick Links</h3>

<ul>
  <li>Specification: <a href="/data-security/1.2-draft-max-intro/aai-openid-connect-profile">GA4GH Authentication and Authorization Infrastructure (AAI) OpenID Connect Profile</a>
</li>
  <li>Other specifications that use the AAI profile: <a href="https://bit.ly/ga4gh-passport-v1">GA4GH Passport</a>
</li>
</ul>

<h3 class="no_toc" id="table-of-contents">Table of Contents</h3>

<ul id="markdown-toc">
  <li>
<a href="#introduction" id="markdown-toc-introduction">Introduction</a>    <ul>
      <li><a href="#separation-of-data-holders-and-data-controllers" id="markdown-toc-separation-of-data-holders-and-data-controllers">Separation of Data Holders and Data Controllers</a></li>
    </ul>
  </li>
  <li>
<a href="#background" id="markdown-toc-background">Background</a>    <ul>
      <li><a href="#why-brokers" id="markdown-toc-why-brokers">Why Brokers?</a></li>
      <li><a href="#visa-tokens-explanation" id="markdown-toc-visa-tokens-explanation">Visa Tokens Explanation</a></li>
    </ul>
  </li>
</ul>

<h3 id="introduction">Introduction</h3>

<p>The <a href="/data-security/1.2-draft-max-intro/aai-openid-connect-profile">GA4GH AAI profile specification</a>
leverages OpenID Connect (OIDC) Servers to authenticate researchers
desiring to access clinical and genomic resources from <a href="/data-security/1.2-draft-max-intro/aai-openid-connect-profile#term-data-holder">data
holders</a>
adhering to GA4GH standards. Beyond standard OIDC authentication, AAI enables
data holders to obtain security-related attributes and authorizations of those
researchers.</p>

<p>The Data Use and Researcher Identity (DURI) Work Stream has developed standard
<a href="https://github.com/ga4gh-duri/ga4gh-duri.github.io/tree/master/researcher_ids">claims</a>
for representing common researcher authorizations and attributes. This standard
assumes that GA4GH Claims provided by Brokers described in this document
MAY conform to the DURI researcher-identity policy and standard. This standard
does NOT assume that DURI’s GA4GH Claims will be the only ones used.</p>

<h4 id="separation-of-data-holders-and-data-controllers">Separation of Data Holders and Data Controllers</h4>

<p>It is a fairly common situation that, for a single dataset, the
<a href="aai-openid-connect-profile#term-data-controller">data controller</a>
(the authority managing who has access to dataset) is not the same party as the 
<a href="aai-openid-connect-profile#term-data-holder">data holder</a> (the organization
enforcing access based on the policies of the data controller).</p>

<p>For these situations, AAI is a standard mechanism for data holders to obtain
and validate authorizations from data controllers.</p>

<p>The AAI standard enables data holders’ and data controllers’ systems to recognize
and accept identities from multiple Brokers — allowing for an even more federated
approach.</p>

<p>An organization can still use this specification with a single Broker and Visa Issuer,
though they may find in that case that there are few benefits beyond standard OIDC.</p>

<h3 id="background">Background</h3>

<h4 id="why-brokers">Why Brokers?</h4>

<p>We have found that there are widely used Identity Providers (IdP) such as Google
Authentication. These authentication mechanisms provide no authorization
information (custom claims or scopes) but are so pervasive at the institution
level that they cannot be ignored. The use of a “broker” and “clearinghouse”
enables attaching information to the usual OIDC flow so that Google and other
prominent identity providers can be used with customized claims and scopes.</p>

<p>We have also found that some brokers, such as ELIXIR for example, provide
useful “extra” claims on top of IdPs like Google, but institutions
receiving ELIXIR claims might have cause to add even more claims.</p>

<p>The Broker model is flexible enough to accommodate this kind of “chaining”
(where one broker relies on and enriches the identity of another), provided
that Visa assertions are always signed-by the original asserting authority.</p>

<p>Here is a diagram of a single broker. This is one possible way to use this spec.</p>

<p><img class="plantuml" src="http://www.plantuml.com/plantuml/svg/~h407374617274756d6c0a736b696e706172616d20636f6d706f6e656e745374796c652072656374616e676c650a6c65667420746f20726967687420646972656374696f6e0a0a7061636b6167652022556e73706563696669656420636c69656e74732c206164646974696f6e616c2073657276696365732c2070726f746f636f6c7322207b0a636f6d706f6e656e7420223c623e5669736120417373657274696f6e20536f757263653c2f623e202831295c6e6f7267616e69736174696f6e222061732056697361536f75726365310a636f6d706f6e656e7420223c623e5669736120417373657274696f6e20536f757263653c2f623e202832295c6e6f7267616e69736174696f6e222061732056697361536f75726365320a636f6d706f6e656e7420223c623e5669736120417373657274696f6e20536f757263653c2f623e20282e2e2e295c6e6f7267616e69736174696f6e222061732056697361536f757263654e0a0a646174616261736520223c623e5669736120417373657274696f6e205265706f7369746f72793c2f623e5c6e616273747261637420736572766963652220617320566973615265706f7369746f72790a636f6d706f6e656e7420223c623e56697361204973737565723c2f623e5c6e616273747261637420736572766963655c6e286f7074696f6e616c2922206173204554490a7d0a0a7061636b61676520225370656369666965642047413447482041414920636c69656e74732c2073657276696365732c2070726f746f636f6c7322207b0a636f6d706f6e656e7420223c623e42726f6b65723c2f623e5c6e73657276696365222061732042726f6b657220234641464144320a636f6d706f6e656e7420223c623e50617373706f727420436c656172696e67686f7573653c2f623e5c6e736572766963652220617320436c656172696e67486f75736520233945374242350a7d0a0a56697361536f7572636531202d2d3e20566973615265706f7369746f7279203a2028756e737065636966696564290a56697361536f7572636532202d2d3e20566973615265706f7369746f7279203a2028756e737065636966696564290a56697361536f757263654e202d2d3e20566973615265706f7369746f7279203a2028756e737065636966696564290a566973615265706f7369746f7279202d2d3e20455449203a2028756e737065636966696564290a0a0a566973615265706f7369746f7279202d2d3e2042726f6b6572203a2028756e737065636966696564290a455449202d2d3e2042726f6b6572203a2028756e737065636966696564290a42726f6b6572202d2d3e20436c656172696e67486f757365203a2047413447482041414920737065630a0a40656e64756d6c"></p>

<p>In this diagram, the Broker relies on a separate service for fetching visas, which
stores assertions from multiple sources. The visa assertions are obtained by the
Clearinghouse after a successful login, and used to determine a researcher’s
access in the Clearinghouse system.</p>

<p>The Broker, Clearinghouse, and Visa Issuer may be separate services (as shown
in this diagram), but in other configurations they may be run as parts of a single
service, or as separate services run by single organization.</p>

<p>Data holders and data controllers should explore their options to decide what best
fits their needs.</p>

<h4 id="visa-tokens-explanation">Visa Tokens Explanation</h4>

<p>The recommended approach to using AAI involves signed-JWTs called Visas,
for securely transmitting authorizations or attributes of a researcher.
Visas are signed by the Visa Issuer, which may be a service other than
the Broker. Using JWTs signed by private key, allows Clearinghouses to
validate Visas from known issuers in situations where they may not have
network connections to the issuers.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/data-security/1.2-draft-max-intro/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">GA4GH Data Security</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">GA4GH Data Security</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>AAI</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
